<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WASM Test</title>
</head>
<body>
    <h1>WebAssembly "Hello, World!" Test</h1>
    <p>Check the browser console for the result.</p>
    
    <!-- The 'glue' code generated by Emscripten -->
    <script src="main.js"></script>
    <script>
        // Emscripten creates a global 'Module' object.
        // We need to wait for it to be initialized.
        Module.onRuntimeInitialized = function() {
            console.log("âœ… WASM module loaded and initialized.");
            
            try {
                // Call our C++ function from JavaScript!
                const result = Module.add(20, 22);
                console.log("Calling C++ add(20, 22) from JS...");
                console.log("Result:", result); // Should print 42

                if (result === 42) {
                    document.body.innerHTML += "<h2>Success! C++ returned 42.</h2>";
                } else {
                    document.body.innerHTML += "<h2>Failure. Incorrect result.</h2>";
                }
            } catch (e) {
                console.error("Error calling WASM function:", e);
            }
        };
    </script>
</body>
</html> 